## Resource Record Types

Remember, DNS is one of the most important technologies that an IT support specialist needs to know in order to troubleshoot networking issues. So, let's get into the nitty-gritty. DNS in practice operates with a set of defined resource record types. These allow for different kinds of DNS resolutions to take place. There are dozens of different resource record types defined, but a lot of them only serve very specialized purposes. We'll cover the most basic ones here. The most common resource record is known as an A record. An A record is used to point a certain domain name at a certain IPv4 IP address. In our earlier discussions of DNS, we made the assumption that the DNS resolver was asking for the A record for a domain name. In its most basic use, a single A record is configured for a single domain name. But, a single domain name can have multiple A records, too. This allows for a technique known as DNS round robin to be used to balance traffic across multiple IPs. Round robin is a concept that involves iterating over a list of items one by one in an orderly fashion. The hope is that this ensures a fairly equal balance of each entry on the list that's selected. Let's say we're in charge of a domain name www.microsoft.com. Microsoft is a large company and their website likely sees a lot of traffic. To help balance this traffic across multiple servers. We configure four A records for www.microsoft.com at the authoritative name server for the microsoft.com domain. We'll use the IPs 10.1.1.1, 10.1.1.2, 10.1.1.3, and 10.1.1.4. When the DNS Resolver performs a look-up of www.microsoft.com, all four IPs would be returned in the order first configured: 10.1 1.1, followed by 10.1.1.2, followed by 10.1.1.3, and finally, 10.1.1.4. The DNS resolving computer would know that it should try to use the first entry, 10.1.1.1, but it knows about all four just in case a connection to 10.1.1.1 fails. The next computer to perform a look up for www.microsoft.com would also receive all four IPs in the response, but the ordering will have changed. The first entry would be 10.1.1.2, followed by 10.1.1.3, followed by 10.1.1,4, and finally, 10.1.1.1 would be last on that list. This pattern will continue for every DNS resolution attempt, cycling through all of the A records configured and balancing the traffic across these IPs. That's the basics of how DNS round robin logic works. Another resource record type that's becoming more and more popular is the Quad A record. A Quad A record is very similar to an A record except that it returns in IPv6 address instead of an IPv4 address. We'll cover the details of IPv6 in a future module. The CNAME record is also super common. A CNAME record is used to redirect traffic from one domain to another. Let's say that Microsoft runs their web servers at www.microsoft.com. They also want to make sure that anyone that enters just microsoft.com into their web browser will get properly redirected. By configuring a CNAME record for microsoft.com that resolves to www.microsoft.com, the resolving client would then know to perform another resolution attempt, this time for www.microsoft.com, and then use the IP returned by that second attempt. CNAMEs are really useful because they ensure you only have to change the canonical IP address of a server in one place. In fact, CNAME is just shorthand for canonical name. If we look again at our original example of making sure that visitors to both microsoft.com and www.microsoft.com get to the same place. We could do this in two ways. We could set up identical A records for both microsoft.com and www.microsoft.com domain names, and this would work just fine. But if the underlying IP address ever changes, we need to change it in two places. The A records for both nicrosoft.com and www.microsoft.com. By setting up a CNAME that points microsoft.com at www.microsoft.com, you'd only have to change the A record for www.microsoft.com. And you'd know that clients pointing at either domain would get the new IP address. This might not seem like a huge deal with just two records to worry about, but large companies with complex presences on the web might have dozens of these kinds of redirections. It's always easier to only have one source of truth. Another important resource record type is the MX record. MX stands for mail exchange and this resource record is used in order to deliver e-mail to the correct server. Many companies run their web and mail servers on different machines with different IPs, so the MX record makes it easy to ensure that email gets delivered to a company's mail server, while other traffic like web traffic would get delivered to their web server. A record type very similar to the MX record is the SRV record. SRV stands for service record, and it's used to define the location of various specific services. It serves the exact same purpose as the MX resource record type except for one thing, while MX is only for mail services, an SRV record can be defined to return the specifics of many different service types. For example, SRV records are often used to return the records of services like CalDAV, which has a calendar and scheduling service. The text record type is an interesting one. TXT stands for text and was originally intended to be used only for associating some descriptive text with a domain name for human consumption. The idea was that, you could leave notes or messages that humans could discover and read to learn more about arbitrary specifics of your network. But over the years as the Internet and services that run on it have become more and more complex, the text record has been increasingly used to convey additional data intended for other computers to process. Since the text record has a field that's entirely free form, clever engineers have figured out ways to use it to communicate data not originally intended to be communicated by a system like DNS. It's pretty clever, right? This text record is often used to communicate configuration preferences about network services that you've entrusted other organizations to handle for your domain. For example, it's common for the text record to be used to convey additional info to an email as a service provider, which is a company that handles your email delivery for you. There are lots of other DNS resource record types in common use like the NS or SOA records which are used to define authority information about DNS zones. We'll cover DNS zones in more detail in a future video. So, stay tuned.



请记住，DNS 是 IT 支持专家为了解决网络问题而需要了解的最重要技术之一。 所以，让我们进入这种粗暴的状态。 实际上，DNS 使用一组定义的资源记录类型进行操作。 这些功能允许进行不同类型的 DNS 解析。 定义了几十种不同的资源记录类型， 但其中很多只用于非常专业的目的。 我们将在这里介绍最基本的。 最常见的资源记录称为 A 记录。 A 记录用于将某个域名指向某个 IPv4 IP 地址。 在我们之前对 DNS 的讨论 中，我们假设 DNS 解析程序要求提供域名的 A 记录。 在其最基本的用途中， 单个 A 记录被配置为单个域名。 但是，一个域名也可以有多个 A 记录。 这允许使用称为 DNS 轮询的技术来平衡多个 IP 之间的流量。 循环是一个概念，涉及以 有序的方式逐个迭代项目列表。 希望这可以确 保所选列表中的每个条目的均衡相当平衡。 假设我们负责一个域名 www.microsoft.com。 微软是一家大型公司，他们的网站可能会看到很多流量。 帮助在多个服务器之间平衡此流量。 我们在微软网域的 权威名称服务器上为 www.microsoft.com 配置了四条 A 记录。 我们将使用 IPs 10.1.1.1、 10.1.1.2、10.1.1.3 和 10.1.1.4。 当 DNS 解析程序执行查找 www.microsoft.com 时， 所有四个 IP 都将 按照首先配置的顺序返回：10.1 1.1，然后是 10.1.1.2，然后是 10.1.1.3，最后是 10.1.1.4。 DNS 解析计算机会知道它应该尝试使用第一个条目 10.1.1.1，但它知道所有四个条目，以防连接到 10.1.1.1 失败。 下一台执行查找 www.microsoft.com 的计算机也会收到响应中的所有四个 IP， 但顺序将发生变化。 第一个条目是 10.1.1.2，然后是 10.1.1.3， 然后是 10.1.1,4，最后， 10.1.1.1 将是该清单的最后一个条目。 此模式将在每次 DNS 解析尝试中继续进 行，循环浏览配置的所有 A 记录， 并平衡这些 IP 之间的流量。 这就是 DNS 循环逻辑工作原理的基础知识。 另一个越来越流行的资源记录类型是四 A 记录。 四核记录与 A 记录非常相似，只是它以 IPv6 地址而不是 IPv4 地址返回。 我们将在未来的模块中详细介绍 IPv6 的详细信息。 别名记录也是非常常见的。 别 名记录用于将流量从一个域重定向到另一个域。 比方 说，微软在 www.microsoft.com 上运行他们的网络服务器。 他们还希望确保只输入 Microsoft.com 的任何人都能正确地重定向到他们的网络浏览器中。 通过配置解析为 www.microsoft.com 的别名记录， 解析客户端将知道执行 另一个解析尝试，这次是 www.microsoft.com， 然后使用第二次尝试返回的 IP。 C Names 非常有用，因为它们确保您只需在一个位置更改服务器的规范 IP 地址。 事实上，CNAME 只是规范名称的简写。 如果我们再次看看我们原来的例子，确保访问 Microsoft.com 和 www.microsoft.com 的访问者能够到达同一个地方。 我们可以通过两种方式做到这一点。 我们可以为 Microsoft.com 和 www.microsoft.com 域名设置相同的 A 记录 ，这样可以正常工作。 但是，如果底层 IP 地址发生 变化，我们需要在两个位置进行更改。 这两个网站的 A 记录在网站和网站上。 通过 在 www.Microsoft.com 上设置一个别名称 来指向微软网站，您只需要更改 www.microsoft.com 的 A 记录。 你知道指向任何一个域的客户端都会得到新的 IP 地址。 这似乎不是一个巨大的交易，只需要担心两个记录， 但 网络上具有复杂存在的大公司可能有几十种这样的重定向。 只有一个真理来源总是比较容易 另一个重要的资源记录类型是 MX 记录。 MX 代表邮件交换， 此资源记录用于将电子邮件传递到正确的服务器。 许多公司在具有不同 IP 的不同计算机上运行 Web 服务器和邮件服务器， 因此 MX 记录可以很容易地 确保电子邮件传递到公司的邮件服务器， 而其他流量（如 Web 流量）将传递到他们的 Web 服务器。 与 MX 记录非常相似的记录类型是 SRV 记录。 SRV 代表服务记录 ，用于定义各种特定服务的位置。 它的用途与 MX 资源记录类型完全相同，只有一件事， 而 MX 仅用于邮件服务，可以 定义 SRV 记录以返回许多不同服务类型的具体信息。 例如，SRV 记录通常用于返回诸如 CalDAV 之类的服务的记录， 该服务具有日历和计划服务。 文本记录类型是一个有趣的类型。 TXT 代表文本，最初只用于将 某些描述性文本与供人使用的域名关联起来。 这 个想法是， 你可以留下人类可以发现 和阅读的笔记或信息，以了解更多关于网络任意细节的信息。 但 多年来，随着互联网及其上运行的服务变得越来越复杂， 文本记录越来越多地用于传送 其他计算机需要处理的其他数据。 由于文本记录有一个完全自由格式的字段， 聪明的工程师已经想出了使用它来传递 最初不打算由像 DNS 这样的系统传输的数据的方法。 这是相当聪明的，对不对？ 此文本记录通常用于传达 有关 您委托其他组织为您的域处理的网络服务的配置首选项。 例如，文本记录通常用于以服务提供商身份向 电子邮件传递其他信息，而服务提供商 是一家为您处理电子邮件传递的公司。 还有很多其他 DNS 资源记录类型常用，如 NS 或 SOA 记录，这些记录用于定义 DNS 区域的授权信息。 我们将在未来的视频中更详细地介绍 DNS 区域。 所以，请继续关注。