## DNS Zones

We've covered how authoritative name servers are responsible for responding to name resolution requests for specific domains, but they do more than that. An authoritative name server is actually responsible for a specific DNS zone. DNS zones are a hierarchical concept. The root name servers we covered earlier are responsible for the root zone. Each TLD name server is responsible for the zone covering its specific TLD, and what we refer to as authoritative name servers are responsible for some even finer-grained zones underneath that. The root and TLD name servers are actually just authoritative name servers, too. It's just that the zones that they're authoritative for are special cases. I should call out that zones don't overlap. For example, the administrative authority of the TLD name server for the.com TLD doesn't encompass the google.com domain. Instead, it ends at the authoritative server responsible for google.com. The purpose of DNS zones is to allow for easier control over multiple levels of a domain. As the number of resource records in a single domain increases, it becomes more of a headache to manage them all. Network administrators can ease this pain by splitting up their configurations into multiple zones. Let's imagine a large company that owns the domain largecompany.com. This company has offices in Los Angeles, Paris, and Shanghai, very cosmopolitan. Let's say each office has around 200 people with their own uniquely named desktop computer. This would be 600 A records to keep track of if it was all configured as a single zone. What the company could do, instead, is split up each office into their own zone. So now, we could have la.largecompany.com, pa.largecompany.com, and sh.largecompany.com as subdomains, each with their own DNS zones. A total of four authoritative name servers would now be required for the setup, one for largecompany.com and one for each of the subdomains. Zones are configured through what are known as zone files, simple configuration files that declare all resource records for a particular zone. So a zone file has to contain an SOA, or a Start of Authority resource record declaration. This SOA record declares the zone and the name of the name server that is authoritative for it. Along with the SOA record, you'll usually find NS records which indicate other name servers that may also be responsible for this zone. For simplicity's sake, we've been referring to server in the singular when discussing what's responsible for its zone, whether at the root, TLD, or domain level, but there are often going to be multiple physical servers with their own FQDNs and IP addresses involved. Having multiple servers in place for something as important as DNS is pretty common. Why? Well, if one server were to have a problem or suffer a hardware failure, you could always rely on one of the other ones to serve DNS traffic. Besides SOA and NS records, you'll also find some or all of the other resource record types we've already covered, like A, quad A, and CNAME records along with configurations such as default TTL values for the records served by this zone. Just like how subdomains can go many, many layers deep, zones can be configured to do this too but, just like with subdomains, it's rare to see zones deeper than just a few levels. Sometimes, you'll also see what are known as reverse lookup zone files. These let DNS resolvers ask for an IP, and get the FQDN associated with it returned. These files are the same as zone files except, instead of A and quad A records, which resolve names to IPs, you'll find mostly pointer resource record declarations. As you might have guessed, a PTR, or Pointer Record, resolves an IP to a name. Up next, a dynamic quiz for you, before a dynamic new lesson on Dynamic Host Configuration Protocol. See you there.



我们已经介绍了权威域名服务器如何负责 响应特定域的名称解析请求， 但它们做的不仅仅是这一点。 权威名称服务器实际上负责特定 DNS 区域。 DNS 区域是一个分层概念。 我们之前介绍的根名称服务器负责根区域。 每个 TLD 名称服务器都负责覆盖其特定 TLD 的区域，我们称之为权威域名服务器的区域负责其下面的一些甚至更细的区域。 根和 TLD 名称服务器实际上也只是权威名称服务器。 这只是他们权威的区域是特殊情况。 我应该呼吁区域不重叠。 例如，对于 .com 顶级域名的顶级域名服务器的管理权限不包括 google.com 域。 相反，它会在负责 google.com 的权威服务器结束。 DNS 区域的目的是允许对域的多个级别进行更轻松的控制。 随着单个域中的资源记录数量的增加， 管理所有这些记录变得更加令人头疼。 网络管理员可以通过将 其配置拆分为多个区域来减轻这种痛苦。 让我们想象一个拥有该域名的大型公司。 该公司在洛杉矶 、巴黎和上海设有办事处，非常国际化。 假 设每个办公室大约有 200 名员工，拥有自己的唯一命名台式计算机。 这将是 600 A 记录，以跟踪它是否全部配置为单个区域。 相反，公司可以做的事情 是将每个办公室分成各自的区域。 所以现在，我们可以将一个 .Largecompany.com，和一个子域名作为子域， 每个子域都有自己的 DNS 区域。 现在，设置总共需要四个权威名称服务器， 一个用于 largecompany.com，一个用于每个子域。 通过称为区域文件的 简单配置文件来配置区域，这些文件声明特定区域的所有资源记录。 因此，区域文件必须包含 SO A 或开始授权资源记录声明。 此 SOA 记录声明区域以 及对其具有权威性的名称服务器的名称。 除 SOA 记录外， 您通常还会发现 NS 记录，这些记录指示 可能也负责此区域的其他名称服务器。 为了简单起见，在 讨论负责其区域的内容时，我们一直以单数形式提到服务器，无论是在根 、TLD 或域级别， 但通常会有 多个物理服务器，其中涉及自己的 FQDN 和 IP 地址。 为像 DNS 这样重要的服务器部署多个服务器是非常常见的。 为什么？ 那么，如果一台服务器出现问题或出现硬件故障， 您总是可以依靠其他服务器中的一台来提供 DNS 流量。 除了 SOA 和 NS 记录之外， 您还可以找到 我们已经涵盖的部分或全部其他资源记录类型，例如 A、 四核 A 和 CNAME 记录，以及配置， 如此区域提供的记录的默认 TTL 值。 就像子域可以进行多层深一样， 也可以将区域配置为做到这一点，但是， 就像子域一样， 很少看到的区域不仅仅是几个级别更深。 有时，您还会看到所谓的反向查找区域文件。 这些解析器 可以让 DNS 解析器要求 IP，并返回与其关联的 FQDN。 这些文件与区域文件相同，除了解析名称为 IP 的 A 和四 A 记录之外， 您会发现主要是指针资源记录声明。 正如您可能已经猜到的那样，PTR 或指针记录会将 IP 解析为名称。 接下来，为您介绍动态主机配置协议 的动态新课程之前的动态测验。 看到你在那里。